<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 30px; }
        h2 { color: #2c3e50; border-bottom: 2px solid #8e44ad; padding-bottom: 10px; margin-top: 0; }
        h3 { color: #2c3e50; margin-top: 0; }

        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #f8f9fa; color: #666; font-size: 14px; }

        .btn { text-decoration: none; padding: 6px 12px; border-radius: 4px; color: white; font-size: 13px; font-weight: bold; transition: 0.2s; }
        .btn-role { background: #3498db; margin-right: 5px; }
        .btn-role:hover { background: #2980b9; }

        .btn-approve { background: #27ae60; }
        .btn-reject { background: #e74c3c; }

        .back-link { display: inline-block; margin-bottom: 20px; text-decoration: none; color: #8e44ad; font-weight: bold; }
        .badge { background: #efefef; padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <a href="/" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞–±–∏–Ω–µ—Ç</a>

    <div class="card">
        <h2>üõ°Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–õ–æ–≥–∏–Ω</th>
                    <th>–¢–µ–∫—É—â–∞—è —Ä–æ–ª—å</th>
                    <th>–ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –Ω–∞:</th>
                </tr>
            </thead>
            <tbody>
                {% for u in users %}
                <tr>
                    <td>{{ u.id }}</td>
                    <td><strong>{{ u.login }}</strong></td>
                    <td><span class="badge">{{ u.role }}</span></td>
                    <td>
                        <a href="/admin/change_role/{{ u.id }}/student" class="btn btn-role">–£—á–µ–Ω–∏–∫</a>
                        <a href="/admin/change_role/{{ u.id }}/cook" class="btn btn-role">–ü–æ–≤–∞—Ä</a>
                        <a href="/admin/change_role/{{ u.id }}/admin" class="btn btn-role" style="background: #8e44ad;">–ê–¥–º–∏–Ω</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="card" style="border-left: 5px solid #e67e22;">
        <h3>üì¶ –ó–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞</h3>
        {% if supply_requests %}
        <table>
            <thead>
                <tr>
                    <th>–¢–æ–≤–∞—Ä</th>
                    <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                    <th>–î–∞—Ç–∞</th>
                    <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                {% for s in supply_requests %}
                <tr>
                    <td><strong>{{ s.item_name }}</strong></td>
                    <td>{{ s.quantity }} —à—Ç.</td>
                    <td>{{ s.date.strftime('%d.%m %H:%M') }}</td>
                    <td>
                        <a href="/admin/approve_supply/{{ s.id }}/approved" class="btn btn-approve">–û–¥–æ–±—Ä–∏—Ç—å</a>
                        <a href="/admin/approve_supply/{{ s.id }}/rejected" class="btn btn-reject">–û—Ç–∫–∞–∑–∞—Ç—å</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p style="color: #999; margin-top: 15px;">–ù–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        {% endif %}
    </div>
</div>

</body>
</html>